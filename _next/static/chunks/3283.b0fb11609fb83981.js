!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="927a6769-2314-4dbb-8254-81d1a53371f1",e._sentryDebugIdIdentifier="sentry-dbid-927a6769-2314-4dbb-8254-81d1a53371f1")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3283],{53283:function(e,t,n){n.r(t),n.d(t,{MoonPayBalanceDepositWidget:function(){return P},MoonPayBalanceWithdrawWidget:function(){return W},MoonPayBuyWidget:function(){return k},MoonPayConsumerKycWidget:function(){return L},MoonPayContext:function(){return N},MoonPayNftCheckoutWidget:function(){return $},MoonPayNftClaimWidget:function(){return j},MoonPayProvider:function(){return M},MoonPaySellWidget:function(){return E},MoonPaySwapWidget:function(){return D},MoonPaySwapsCustomerSetupWidget:function(){return _},MoonPayTopUpLedgerWidget:function(){return B},MoonPayTransactionTrackerWidget:function(){return I},MoonPayWithdrawLedgerWidget:function(){return T}});var r=n(67294),a=n(85893),s="moonpay-react-sdk-embedded-frame",i=({props:e,apiKey:t,debug:n,environment:r,signature:a})=>{let{currencyCode:i,defaultCurrencyCode:o,walletAddress:u,walletAddressTag:l,walletAddresses:d,walletAddressTags:c,colorCode:g,theme:f,themeId:x,language:m,baseCurrencyCode:y,baseCurrencyAmount:v,quoteCurrencyAmount:b,lockAmount:p,email:w,externalTransactionId:S,externalCustomerId:h,paymentMethod:N,redirectURL:M,showAllCurrencies:R,showOnlyCurrencies:U,showWalletAddressForm:q,unsupportedRegionRedirectUrl:C,skipUnsupportedRegionScreen:P,baseOrigin:W,onAuthToken:k,onInitiateDeposit:L,onKmsWalletsCreated:$,onLogin:j,onTransactionCompleted:E,onUnsupportedRegion:_,onSwapsCustomerSetupComplete:D,onCloseOverlay:B,onTransactionCreated:I,auth:T,useWarnBeforeRefresh:A,overlayNode:K}=e;return{flow:"buy",variant:e.variant,environment:r,params:{apiKey:t,signature:a,currencyCode:i,defaultCurrencyCode:o,walletAddress:u,walletAddressTag:l,walletAddresses:d,walletAddressTags:c,colorCode:g,theme:f,themeId:x,language:m,baseCurrencyCode:y,baseCurrencyAmount:v,quoteCurrencyAmount:b,lockAmount:p,email:w,externalTransactionId:S,externalCustomerId:h,paymentMethod:N,redirectURL:M,showAllCurrencies:R,showOnlyCurrencies:U,showWalletAddressForm:q,unsupportedRegionRedirectUrl:C,skipUnsupportedRegionScreen:P,baseOrigin:W},debug:n,handlers:{onAuthToken:k,onInitiateDeposit:L,onKmsWalletsCreated:$,onLogin:j,onTransactionCompleted:E,onUnsupportedRegion:_,onSwapsCustomerSetupComplete:D,onCloseOverlay:B,onTransactionCreated:I},auth:T,useWarnBeforeRefresh:A,containerNodeSelector:`#${s}`,overlayNode:K}},o=({props:e,apiKey:t,debug:n,environment:r,signature:a})=>{let{quoteCurrencyCode:i,defaultCurrencyCode:o,defaultBaseCurrencyCode:u,walletAddress:l,walletAddressTag:d,walletAddresses:c,walletAddressTags:g,colorCode:f,theme:x,themeId:m,language:y,baseCurrencyCode:v,baseCurrencyAmount:b,quoteCurrencyAmount:p,lockAmount:w,email:S,externalTransactionId:h,externalCustomerId:N,paymentMethod:M,redirectURL:R,showAllCurrencies:U,showOnlyCurrencies:q,showWalletAddressForm:C,unsupportedRegionRedirectUrl:P,skipUnsupportedRegionScreen:W,mpWalletId:k,baseOrigin:L,onAuthToken:$,onInitiateDeposit:j,onKmsWalletsCreated:E,onLogin:_,onTransactionCompleted:D,onUnsupportedRegion:B,onSwapsCustomerSetupComplete:I,onCloseOverlay:T,onTransactionCreated:A,auth:K,useWarnBeforeRefresh:F}=e;return{flow:"sell",variant:e.variant,environment:r,params:{apiKey:t,signature:a,quoteCurrencyCode:i,defaultCurrencyCode:o,defaultBaseCurrencyCode:u,walletAddress:l,walletAddressTag:d,walletAddresses:c,walletAddressTags:g,colorCode:f,theme:x,themeId:m,language:y,baseCurrencyCode:v,baseCurrencyAmount:b,quoteCurrencyAmount:p,lockAmount:w,email:S,externalTransactionId:h,externalCustomerId:N,paymentMethod:M,redirectURL:R,showAllCurrencies:U,showOnlyCurrencies:q,showWalletAddressForm:C,unsupportedRegionRedirectUrl:P,skipUnsupportedRegionScreen:W,mpWalletId:k,baseOrigin:L},debug:n,handlers:{onAuthToken:$,onInitiateDeposit:j,onKmsWalletsCreated:E,onLogin:_,onTransactionCompleted:D,onUnsupportedRegion:B,onSwapsCustomerSetupComplete:I,onCloseOverlay:T,onTransactionCreated:A},auth:K,useWarnBeforeRefresh:F,containerNodeSelector:`#${s}`}},u=({props:e,apiKey:t,debug:n,environment:r})=>{let{amount:a,amountCurrencyCode:i,theme:o,themeId:u,externalCustomerId:l,baseOrigin:d,onAuthToken:c,onLogin:g,onInitiateDeposit:f,onSwapsCustomerSetupComplete:x,onCloseOverlay:m,onTransactionCreated:y,onKmsWalletsCreated:v,onTransactionCompleted:b,onUnsupportedRegion:p,auth:w,useWarnBeforeRefresh:S}=e;return{flow:"swapsCustomerSetup",variant:e.variant,environment:r,params:{apiKey:t,amount:a,amountCurrencyCode:i,theme:o,themeId:u,externalCustomerId:l,baseOrigin:d},debug:n,handlers:{onAuthToken:c,onLogin:g,onInitiateDeposit:f,onSwapsCustomerSetupComplete:x,onCloseOverlay:m,onTransactionCreated:y,onKmsWalletsCreated:v,onTransactionCompleted:b,onUnsupportedRegion:p},auth:w,useWarnBeforeRefresh:S,containerNodeSelector:`#${s}`}},l=({props:e,apiKey:t,debug:n,environment:r})=>{let{amount:a,amountCurrencyCode:i,theme:o,themeId:u,baseOrigin:l,onLogin:d,onInitiateDeposit:c,onConsumerKycComplete:g,onKmsWalletsCreated:f,onTransactionCompleted:x,onUnsupportedRegion:m,onCloseOverlay:y,auth:v,useWarnBeforeRefresh:b}=e;return{flow:"consumerKyc",variant:e.variant,environment:r,params:{apiKey:t,amount:a,amountCurrencyCode:i,theme:o,themeId:u,baseOrigin:l},debug:n,handlers:{onLogin:d,onInitiateDeposit:c,onConsumerKycComplete:g,onKmsWalletsCreated:f,onTransactionCompleted:x,onUnsupportedRegion:m,onCloseOverlay:y},auth:v,useWarnBeforeRefresh:b,containerNodeSelector:`#${s}`}},d=({props:e,apiKey:t,debug:n,environment:r,signature:a})=>{let{contractAddress:i,tokenId:o,listingId:u,externalTransactionId:l,baseCurrencyCode:d,redirectURL:c,walletAddress:g,subPartnerName:f,metadata:x,dynamicAssetInfo:m,sellType:y,email:v,quantity:b,baseOrigin:p,onAuthToken:w,onLogin:S,onTransactionCompleted:h,onUnsupportedRegion:N,onInitiateDeposit:M,onKmsWalletsCreated:R,onCloseOverlay:U,onTransactionCreated:q,auth:C,useWarnBeforeRefresh:P}=e;return{flow:"nft",variant:e.variant,environment:r,params:{apiKey:t,signature:a,contractAddress:i,tokenId:o,listingId:u,externalTransactionId:l,baseCurrencyCode:d,redirectURL:c,walletAddress:g,subPartnerName:f,metadata:x,dynamicAssetInfo:m,sellType:y,email:v,quantity:b,baseOrigin:p},debug:n,handlers:{onAuthToken:w,onLogin:S,onTransactionCompleted:h,onUnsupportedRegion:N,onInitiateDeposit:M,onKmsWalletsCreated:R,onCloseOverlay:U,onTransactionCreated:q},auth:C,useWarnBeforeRefresh:P,containerNodeSelector:`#${s}`}},c=({props:e,apiKey:t,debug:n,environment:r,signature:a})=>{let{contractId:i,tokenId:o,initialScreen:u,onAuthToken:l,onLogin:d,onTransactionCompleted:c,onUnsupportedRegion:g,onInitiateDeposit:f,onKmsWalletsCreated:x,onCloseOverlay:m,onTransactionCreated:y,baseOrigin:v,auth:b,useWarnBeforeRefresh:p}=e;return{flow:"claim",variant:e.variant,environment:r,params:{apiKey:t,signature:a,contractId:i,tokenId:o,initialScreen:u,baseOrigin:v},debug:n,handlers:{onAuthToken:l,onLogin:d,onTransactionCompleted:c,onUnsupportedRegion:g,onInitiateDeposit:f,onKmsWalletsCreated:x,onCloseOverlay:m,onTransactionCreated:y},auth:b,useWarnBeforeRefresh:p,containerNodeSelector:`#${s}`}},g=({props:e,apiKey:t,debug:n,environment:r,signature:a})=>{let{externalCustomerId:i,theme:o,themeId:u,currencyCode:l,baseOrigin:d,onAuthToken:c,onInitiateDeposit:g,onKmsWalletsCreated:f,onLogin:x,onTransactionCompleted:m,onUnsupportedRegion:y,onSwapsCustomerSetupComplete:v,onCloseOverlay:b,onTransactionCreated:p,auth:w,useWarnBeforeRefresh:S}=e;return{flow:"topup",variant:e.variant,environment:r,params:{apiKey:t,signature:a,externalCustomerId:i,theme:o,themeId:u,currencyCode:l,baseOrigin:d},debug:n,handlers:{onAuthToken:c,onInitiateDeposit:g,onKmsWalletsCreated:f,onLogin:x,onTransactionCompleted:m,onUnsupportedRegion:y,onSwapsCustomerSetupComplete:v,onCloseOverlay:b,onTransactionCreated:p},auth:w,useWarnBeforeRefresh:S,containerNodeSelector:`#${s}`}},f=({props:e,debug:t,environment:n})=>{let{theme:r,themeId:a,baseOrigin:i,onLogin:o,onTransactionCompleted:u,onUnsupportedRegion:l,onCloseOverlay:d,onTransactionCreated:c,onBalanceDepositTransferConfirmed:g,auth:f,useWarnBeforeRefresh:x}=e;return{flow:"moonPayBalanceDeposit",variant:e.variant,environment:n,params:{theme:r,themeId:a,baseOrigin:i},debug:t,handlers:{onLogin:o,onTransactionCompleted:u,onUnsupportedRegion:l,onCloseOverlay:d,onTransactionCreated:c,onBalanceDepositTransferConfirmed:g},auth:f,useWarnBeforeRefresh:x,containerNodeSelector:`#${s}`}},x=({props:e,debug:t,environment:n})=>{let{theme:r,themeId:a,baseOrigin:i,onLogin:o,onTransactionCompleted:u,onUnsupportedRegion:l,onCloseOverlay:d,onTransactionCreated:c,auth:g,useWarnBeforeRefresh:f}=e;return{flow:"moonPayBalanceWithdraw",variant:e.variant,environment:n,params:{theme:r,themeId:a,baseOrigin:i},debug:t,handlers:{onLogin:o,onTransactionCompleted:u,onUnsupportedRegion:l,onCloseOverlay:d,onTransactionCreated:c},auth:g,useWarnBeforeRefresh:f,containerNodeSelector:`#${s}`}},m=({props:e,apiKey:t,debug:n,environment:r,signature:a})=>{let{externalCustomerId:i,theme:o,themeId:u,baseCurrencyCode:l,baseOrigin:d,onAuthToken:c,onInitiateDeposit:g,onKmsWalletsCreated:f,onLogin:x,onTransactionCompleted:m,onUnsupportedRegion:y,onSwapsCustomerSetupComplete:v,onCloseOverlay:b,onTransactionCreated:p,auth:w,useWarnBeforeRefresh:S}=e;return{flow:"withdraw",variant:e.variant,environment:r,params:{apiKey:t,signature:a,externalCustomerId:i,theme:o,themeId:u,baseCurrencyCode:l,baseOrigin:d},debug:n,handlers:{onAuthToken:c,onInitiateDeposit:g,onKmsWalletsCreated:f,onLogin:x,onTransactionCompleted:m,onUnsupportedRegion:y,onSwapsCustomerSetupComplete:v,onCloseOverlay:b,onTransactionCreated:p},auth:w,useWarnBeforeRefresh:S,containerNodeSelector:`#${s}`}},y=({props:e,apiKey:t,debug:n,environment:r,signature:a})=>{let{walletAddress:i,walletAddressTag:o,refundWalletAddress:u,baseCurrencyCode:l,baseCurrencyAmount:d,quoteCurrencyCode:c,quoteCurrencyAmount:g,colorCode:f,theme:x,themeId:m,externalCustomerId:y,baseOrigin:v,onAuthToken:b,onInitiateDeposit:p,onKmsWalletsCreated:w,onLogin:S,onTransactionCompleted:h,onUnsupportedRegion:N,onSwapsCustomerSetupComplete:M,onCloseOverlay:R,onTransactionCreated:U,auth:q,useWarnBeforeRefresh:C}=e;return{flow:"swap",variant:e.variant,environment:r,params:{apiKey:t,signature:a,walletAddress:i,walletAddressTag:o,refundWalletAddress:u,baseCurrencyCode:l,baseCurrencyAmount:d,quoteCurrencyCode:c,quoteCurrencyAmount:g,colorCode:f,theme:x,themeId:m,externalCustomerId:y,baseOrigin:v},debug:n,handlers:{onAuthToken:b,onInitiateDeposit:p,onKmsWalletsCreated:w,onLogin:S,onTransactionCompleted:h,onUnsupportedRegion:N,onSwapsCustomerSetupComplete:M,onCloseOverlay:R,onTransactionCreated:U},auth:q,useWarnBeforeRefresh:C,containerNodeSelector:`#${s}`}},v=({props:e,debug:t,environment:n})=>{let{transactionId:r,colorCode:a,theme:i,themeId:o,baseOrigin:u,onAuthToken:l,onInitiateDeposit:d,onKmsWalletsCreated:c,onLogin:g,onTransactionCompleted:f,onUnsupportedRegion:x,onSwapsCustomerSetupComplete:m,onCloseOverlay:y,onTransactionCreated:v,auth:b,useWarnBeforeRefresh:p}=e;return{flow:"transactionTracker",variant:e.variant,environment:n,params:{transactionId:r,colorCode:a,theme:i,themeId:o,baseOrigin:u},debug:t,handlers:{onAuthToken:l,onInitiateDeposit:d,onKmsWalletsCreated:c,onLogin:g,onTransactionCompleted:f,onUnsupportedRegion:x,onSwapsCustomerSetupComplete:m,onCloseOverlay:y,onTransactionCreated:v},auth:b,containerNodeSelector:`#${s}`,useWarnBeforeRefresh:p}},b={isLoading:!1,isLoaded:!1};async function p(e="v1"){return new Promise((t,n)=>{let r=`https://static.moonpay.com/web-sdk/${e}/moonpay-web-sdk.min.js`,a=document.querySelector(`script[src="${r}"]`);b.isLoading=!0;let s=(e=0)=>{if(window.MoonPayWebSdk){b.isLoading=!1,b.isLoaded=!0,t(window.MoonPayWebSdk.init);return}if(e>100){b.isLoading=!1,n(Error("Loading MoonPayWebSdk script timed out."));return}setTimeout(()=>s(e+1),100)};if(a)s();else{let e=document.createElement("script");e.async=!0,e.src=r,e.addEventListener("load",()=>{b.isLoading=!1,b.isLoaded=!0,t(window.MoonPayWebSdk?.init)}),e.addEventListener("error",()=>{b.isLoading=!1,b.isLoaded=!1,n(Error("Failed to load MoonPayWebSdk script."))}),document.body.appendChild(e)}})}var w=()=>void 0,S={info:w,warn:w,error:w},h=class e{prefix;logger;constructor({logger:e,prefix:t}){this.logger=e,this.prefix=t??["Logger"]}if(t){return t?this:new e({logger:S})}info(...e){this.logger.info(`[${this.prefix}]`,...e)}warn(...e){this.logger.warn(`[${this.prefix}]`,...e)}error(...e){this.logger.error(`[${this.prefix}]`,...e)}};void 0!==window.crypto&&void 0!==window.crypto.getRandomValues||(()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));var N=(0,r.createContext)({apiKey:"",environment:"sandbox",debug:!1}),M=({children:e,apiKey:t,debug:n=!1})=>{let s=t.startsWith("pk_live")||t.startsWith("sk_live")?"production":"sandbox",[i,o]=(0,r.useState)({apiKey:t,environment:s,debug:n}),u=(0,r.useCallback)(async()=>{let e=await p();o(t=>({...t,init:e}))},[]);return(0,r.useEffect)(()=>{i.init||u()},[u,i.init]),(0,a.jsx)(N.Provider,{value:i,children:e})},R=class extends h{constructor(){super({logger:console,prefix:["MoonPay React SDK"]})}},U=(e,t,n)=>{let a=(0,r.useRef)(null),{init:s,debug:i}=(0,r.useContext)(N),o=(0,r.useRef)(new R().if(i||!1)),u=(0,r.useCallback)(async()=>{if(a.current){if(!n&&("walletAddress"in e||"walletAddresses"in e)&&o.current.warn("You must provide an `onUrlSignatureRequested` function to sign the URL when using the `walletAddress` or `walletAddresses` prop"),n){let e=a.current.generateUrlForSigning();try{let t=await n?.(e);if(!t)return;a.current?.updateSignature(t)}catch(e){o.current.error("Something went wrong calling the provided `onUrlSignatureRequested` function:",e)}}t&&a.current?.show()}},[n,t,e]);(0,r.useEffect)(()=>{a.current&&a.current.close();let t=s?.(e)||null;a.current=t,u()},[s,e,u])},q={width:"424px",height:"656px",margin:"32px 28px 32px 28px",border:"1px solid #E5E7EB",borderRadius:"16px",overflow:"hidden"};function C({config:e,onUrlSignatureRequested:t,visible:n=!0,className:r,style:i}){return(U(e,n,t),n)?(0,a.jsx)("div",{id:s,className:r,style:"embedded"===e.variant?{...q,...i}:void 0}):null}function P(e){let{environment:t}=(0,r.useContext)(N),n=(0,r.useMemo)(()=>f({props:e,environment:t,debug:!1}),[e,t]);return(0,a.jsx)(C,{config:n,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function W(e){let{environment:t}=(0,r.useContext)(N),n=(0,r.useMemo)(()=>x({props:e,environment:t,debug:!1}),[e,t]);return(0,a.jsx)(C,{config:n,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function k(e){let{apiKey:t,environment:n}=(0,r.useContext)(N),s=(0,r.useMemo)(()=>i({props:e,apiKey:t,environment:n,debug:!1,signature:e.signature||""}),[e,t,n]);return(0,a.jsx)(C,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function L(e){let{apiKey:t,environment:n}=(0,r.useContext)(N),s=(0,r.useMemo)(()=>l({props:e,apiKey:t,environment:n,debug:!1,signature:""}),[e,t,n]);return(0,a.jsx)(C,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function $(e){let{apiKey:t,environment:n}=(0,r.useContext)(N),s=(0,r.useMemo)(()=>d({props:e,apiKey:t,environment:n,debug:!1,signature:e.signature||""}),[e,t,n]);return(0,a.jsx)(C,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function j(e){let{apiKey:t,environment:n}=(0,r.useContext)(N),s=(0,r.useMemo)(()=>c({props:e,apiKey:t,environment:n,debug:!1,signature:e.signature||""}),[e,t,n]);return(0,a.jsx)(C,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function E(e){let{apiKey:t,environment:n}=(0,r.useContext)(N),s=(0,r.useMemo)(()=>o({props:e,apiKey:t,environment:n,debug:!1,signature:e.signature||""}),[e,t,n]);return(0,a.jsx)(C,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function _(e){let{apiKey:t,environment:n}=(0,r.useContext)(N),s=(0,r.useMemo)(()=>u({props:e,apiKey:t,environment:n,debug:!1,signature:""}),[e,t,n]);return(0,a.jsx)(C,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function D(e){let{apiKey:t,environment:n}=(0,r.useContext)(N),s=(0,r.useMemo)(()=>y({props:e,apiKey:t,environment:n,debug:!1,signature:e.signature||""}),[e,t,n]);return(0,a.jsx)(C,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function B(e){let{apiKey:t,environment:n}=(0,r.useContext)(N),s=(0,r.useMemo)(()=>g({props:e,apiKey:t,environment:n,debug:!1,signature:e.signature||""}),[e,t,n]);return(0,a.jsx)(C,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function I(e){let{apiKey:t,environment:n}=(0,r.useContext)(N),s=(0,r.useMemo)(()=>v({props:e,apiKey:t,environment:n,debug:!1,signature:""}),[e,t,n]);return(0,a.jsx)(C,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function T(e){let{apiKey:t,environment:n}=(0,r.useContext)(N),s=(0,r.useMemo)(()=>m({props:e,apiKey:t,environment:n,debug:!1,signature:e.signature||""}),[e,t,n]);return(0,a.jsx)(C,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}}}]);